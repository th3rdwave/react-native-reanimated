{"version":3,"names":["useAnimatedKeyboard","ref","useRef","listenerId","isSubscribed","current","keyboardEventData","isShown","makeMutable","isAnimating","height","NativeReanimated","subscribeForKeyboardEvents","useEffect","unsubscribeFromKeyboardEvents"],"sources":["useAnimatedKeyboard.ts"],"sourcesContent":["import { useEffect, useRef } from 'react';\nimport NativeReanimated from '../NativeReanimated';\nimport { makeMutable } from '../core';\nimport { AnimatedKeyboardInfo } from '../commonTypes';\n\nexport function useAnimatedKeyboard(): AnimatedKeyboardInfo {\n  const ref = useRef<AnimatedKeyboardInfo | null>(null);\n  const listenerId = useRef<number>(-1);\n  const isSubscribed = useRef<boolean>(false);\n\n  if (ref.current === null) {\n    const keyboardEventData: AnimatedKeyboardInfo = {\n      isShown: makeMutable(false),\n      isAnimating: makeMutable(false),\n      height: makeMutable(0),\n    };\n    listenerId.current =\n      NativeReanimated.subscribeForKeyboardEvents(keyboardEventData);\n    ref.current = keyboardEventData;\n    isSubscribed.current = true;\n  }\n  useEffect(() => {\n    if (isSubscribed.current === false && ref.current !== null) {\n      // subscribe again after Fast Refresh\n      listenerId.current = NativeReanimated.subscribeForKeyboardEvents(\n        ref.current\n      );\n      isSubscribed.current = true;\n    }\n    return () => {\n      NativeReanimated.unsubscribeFromKeyboardEvents(listenerId.current);\n      isSubscribed.current = false;\n    };\n  }, []);\n  return ref.current;\n}\n"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;AAGO,SAASA,mBAAT,GAAqD;EAC1D,MAAMC,GAAG,GAAG,IAAAC,aAAA,EAAoC,IAApC,CAAZ;EACA,MAAMC,UAAU,GAAG,IAAAD,aAAA,EAAe,CAAC,CAAhB,CAAnB;EACA,MAAME,YAAY,GAAG,IAAAF,aAAA,EAAgB,KAAhB,CAArB;;EAEA,IAAID,GAAG,CAACI,OAAJ,KAAgB,IAApB,EAA0B;IACxB,MAAMC,iBAAuC,GAAG;MAC9CC,OAAO,EAAE,IAAAC,iBAAA,EAAY,KAAZ,CADqC;MAE9CC,WAAW,EAAE,IAAAD,iBAAA,EAAY,KAAZ,CAFiC;MAG9CE,MAAM,EAAE,IAAAF,iBAAA,EAAY,CAAZ;IAHsC,CAAhD;IAKAL,UAAU,CAACE,OAAX,GACEM,yBAAA,CAAiBC,0BAAjB,CAA4CN,iBAA5C,CADF;IAEAL,GAAG,CAACI,OAAJ,GAAcC,iBAAd;IACAF,YAAY,CAACC,OAAb,GAAuB,IAAvB;EACD;;EACD,IAAAQ,gBAAA,EAAU,MAAM;IACd,IAAIT,YAAY,CAACC,OAAb,KAAyB,KAAzB,IAAkCJ,GAAG,CAACI,OAAJ,KAAgB,IAAtD,EAA4D;MAC1D;MACAF,UAAU,CAACE,OAAX,GAAqBM,yBAAA,CAAiBC,0BAAjB,CACnBX,GAAG,CAACI,OADe,CAArB;MAGAD,YAAY,CAACC,OAAb,GAAuB,IAAvB;IACD;;IACD,OAAO,MAAM;MACXM,yBAAA,CAAiBG,6BAAjB,CAA+CX,UAAU,CAACE,OAA1D;;MACAD,YAAY,CAACC,OAAb,GAAuB,KAAvB;IACD,CAHD;EAID,CAZD,EAYG,EAZH;EAaA,OAAOJ,GAAG,CAACI,OAAX;AACD"}